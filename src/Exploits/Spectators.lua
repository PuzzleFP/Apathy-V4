local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

local Client = Players.LocalPlayer

local Spectators = {}

function Spectators.SilentSpecate(State)
    if State then 
        RemoteBlocker.BlockRemote("RequestSpectateTarget")
    else 
        RemoteBlocker.UnblockRemote("RequestSpectateTarget")
    end 
end 

function Spectators.UnlockMenu()
    for _, Player in ipairs(Players) do 
        local IsSpectator = Player:GetAttribute("IsSpectator")

        if IsSpectator then 
            continue 
        end 

        Player:SetAttribute("CanSpectate", true)
        Connections.DisableConnections(Player, "AttributeChange")
    end 
end 

function Spectators.RestoreMenu()
    for _, Player in ipairs(Players) do 
        Connections.EnableConnections(Player, "AttributeChange")
    end 
end 

return Spectators
